@model Akios.Domain.Entities.Kullanici
@{
    ViewBag.Title = "Kullanıcı Bilgisi";
    ViewBag.Description = "Sistemde tanımlı kullanıcı bilgisi görüntülenir.";
    Layout = null;
}

<script type="text/javascript">
    $(function () {
        $("#musteriDropDownList").select2({
            placeholder: 'Seçim yapmak için tıklayınız.',
            allowClear: true
        });

        DropDownLoad("musteriDropDownList", "Musteri/GetMusteriListForDropDown", "");
    });
</script>

@Html.HiddenFor(m => m.KullaniciId)

<div class="form-group">
    <label>Müşteri</label>
    <select id="musteriDropDownList" class="form-control" style="width: 100%;"></select>
</div>

@foreach (var property in ViewData.ModelMetadata.Properties)
{
    switch (property.PropertyName)
    {
        case "KullaniciId":
        case "MusteriId":
        case "IsAdmin":
        case "FotoData":
        case "FotoMimeType":
        case "KayitTarihi":
            // do nothing
            break;
        default:
            <div class="form-group">
                <label>@(property.DisplayName ?? property.PropertyName)</label>
                @if (property.PropertyName == "Sifre")
                {
                    @Html.TextBox(property.PropertyName, null, new
                    {
                        @class = "form-control",
                        @placeholder = property.DisplayName,
                        @type = "password"
                    })
                }
                else
                {
                    @Html.TextBox(property.PropertyName, null, new
                    {
                        @class = "form-control",
                        @placeholder = property.DisplayName
                    })
                }
            </div>
                break;
    }
}

<div class="form-group">
    <div style="position: relative;">
        <label>Fotoğraf</label>
        <a class='btn' href='javascript:;'>
            Choose File...
            <input type="file" name="Image" size="40"
                   style="position: absolute; z-index: 2; top: 0; left: 0; filter: alpha(opacity=0); opacity: 0; background-color: transparent; color: transparent;"
                   onchange='$("#upload-file-info").html($(this).val());'>
        </a>
        <span class='label  label-info' id="upload-file-info"></span>
    </div>
    <img class="img-circle" width="150" height="150" src="@Url.Action("FotoYukle", "Kullanici", new { Model.KullaniciId })" />
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-primary" data-dismiss="modal">Kapat</button>
    <button type="button" class="btn btn-primary">Kaydet</button>
</div>
