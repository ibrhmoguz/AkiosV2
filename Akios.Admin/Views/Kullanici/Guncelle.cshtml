@model Akios.Domain.Entities.Kullanici
@{
    ViewBag.Title = "Kullanıcı Bilgisi";
    ViewBag.Description = "Sistemde tanımlı kullanıcı bilgisi görüntülenir.";
    Layout = null;
}

<script type="text/javascript">
    $(function () {
        $("#musteriDropDownList").select2({
            placeholder: 'Seçim yapmak için tıklayınız.',
            allowClear: true
        });

        DropDownLoad("musteriDropDownList", "Musteri/GetMusteriListForDropDown", "");
        FileUpload('Kullanici/FotoUpload', 'kullanicifileUpload');
    })
</script>

@Html.HiddenFor(m => m.KullaniciId)

<div class="form-group">
    <label>Müşteri</label>
    <select id="musteriDropDownList" class="form-control" style="width: 100%;"></select>
</div>

@foreach (var property in ViewData.ModelMetadata.Properties)
{
    switch (property.PropertyName)
    {
        case "KullaniciId":
        case "MusteriId":
        case "IsAdmin":
        case "FotoData":
        case "FotoMimeType":
        case "KayitTarihi":
            // do nothing
            break;
        default:
            <div class="form-group">
                <label>@(property.DisplayName ?? property.PropertyName)</label>
                @if (property.PropertyName == "Sifre")
                {
                    @Html.TextBox(property.PropertyName, null, new
                    {
                        @class = "form-control",
                        @placeholder = property.DisplayName,
                        @type = "password"
                    })
                }
                else
                {
                    @Html.TextBox(property.PropertyName, null, new
                    {
                        @class = "form-control",
                        @placeholder = property.DisplayName
                    })
                }
            </div>
                break;
    }
}

<div class="form-group">
    <div style="position: relative;">
        <label>Fotoğraf</label>
        <span class="btn fileinput-button">
            <i class="fa fa-fw fa-image"></i>
            <input id="kullanicifileUpload" type="file" name="files[]" multiple>
        </span>
    </div>
    <!-- The global progress bar -->
    <div id="progress" class="progress">
        <div class="progress-bar progress-bar-success"></div>
    </div>
    <!-- The container for the uploaded files -->
    <div id="files" class="files"></div>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-primary" data-dismiss="modal">Kapat</button>
    <button type="button" class="btn btn-primary">Kaydet</button>
</div>
